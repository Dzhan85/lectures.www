–ü–∞–≥–∏–Ω–∞—Ü–∏—è
=========

.. seealso::

   * `wikipedia –ø–∞–≥–∏–Ω–∞—Ü–∏—è <https://ru.wikipedia.org/w/index.php?title=–ü–∞–≥–∏–Ω–∞—Ü–∏—è>`_

–í –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –ø–æ–¥ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –ø–æ–Ω–∏–º–∞—é—Ç –ø–æ–∫–∞–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π —á–∞—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞
–æ–¥–Ω–æ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –∏–ª–∏ 20 —Ñ–æ—Ä—É–º–Ω—ã—Ö —Ç—Ä—ç–¥–æ–≤).
–û–Ω–∞ –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –¥–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
–¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –¥—Ä—É–≥–∏–µ
—Å—Ç—Ä–∞–Ω–∏—Ü—ã.

.. figure:: /_static/6.www.sync/5.pagination/opennet.png
   :align: center

   `OpenNET.ru
   <http://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=list&forum=vsluhforumID8>`_

Paginate
--------

.. seealso::

   * `webhelpers.paginate
     <http://docs.pylonsproject.org/projects/webhelpers/en/latest/modules/paginate.html>`_
   * https://github.com/Pylons/paginate
   * https://v4-alpha.getbootstrap.com/components/pagination/

–ú–æ–¥—É–ª—å ``paginate`` –¥–µ–ª–∏—Ç —Å–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è
–º–µ—Ç–æ–¥–æ–º `GET`, –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `page`. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–µ—Ä–µ—Ç—Å—è –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.

.. code-block:: python

    p = paginate.Page(
        items,
        page=1,
        items_per_page=42
    )

–ü—Ä–∏–º–µ—Ä `Mako` —à–∞–±–ª–æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π `Bootstrap4` –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏.

.. code-block:: html+mako

    <%inherit file="base.mako"/>

    <%block name="content">
      <h2>${tag.title()}</h2>
      <br/>
      <div class="row">
        %for item in p:
          <div class="col">
            <div class="row">
              <a href="${_static_prefix}/item/${item.id}.html"> üîó </a>
            </div>
            <br/>
            <div class="row">
              <pre id='id-${item.id}' width=100%>
                ${item.text}
              </pre>
            </div>
          </div>
        %endfor
      </div>

      # https://v4-alpha.getbootstrap.com/components/pagination/
      <div class="row">
        <nav aria-label="Page navigation example">
          <ul class="pagination">
            ${p.pager(
              url="../$page/index.html".format(tag),
              link_attr={'class': 'page_link'},
              link_tag=lambda page: '<li class="page-item {} {}"><a class="page-link" href="{}">{}</a></li>'.format(
              'active' if page['type'] == 'current_page' else '',
              'disabled' if not len(page['href'].strip()) else '',
              page['href'],
              page['value']
              )
            )}
          </ul>
        </nav>
      </div>
    </%block>


.. figure:: /_static/6.www.sync/5.pagination/bootstrap.png
   :align: center

   Bootstrap4 pagination

–ë–ª–æ–≥
----

–î–∞–Ω–Ω—ã–µ
^^^^^^

.. seealso::

   * http://ru.lipsum.com/

–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–ø–æ–ª–Ω–∏–º –±–ª–æ–≥ —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Å—Ç–∞—Ç—å—è–º–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏
``generate_lorem_ipsum`` –∏–∑ –ø–∞–∫–µ—Ç–∞ ``jinja2.utils``.

.. literalinclude:: /../examples/wsgi/5.pagination/0.blog/models.py
   :language: python
   :linenos:
   :caption: models.py

.. figure:: /_static/6.www.sync/5.pagination/long_list_blog_articles.png
   :align: center

   –ú–Ω–æ–≥–æ —Å—Ç–∞—Ç–µ–π –Ω–µ –ø–æ–º–µ—â–∞—é—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω

Paginate
^^^^^^^^

.. literalinclude:: /../examples/wsgi/5.pagination/1.blog/views.py
   :language: python
   :linenos:
   :caption: views.py
   :pyobject: BlogIndex
   :emphasize-lines: 6-17,21

.. literalinclude:: /../examples/wsgi/5.pagination/1.blog/templates/index.html
   :language: html+jinja
   :linenos:
   :caption: templates/index.html
   :emphasize-lines: 22

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ 8 —Å—Ç–∞—Ç–µ–π.

.. figure:: /_static/6.www.sync/5.pagination/blog_with_page.png
   :align: center

   –ë–ª–æ–≥ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
